<html>
<head>
<title>C</title>

<!-- latex math javascript-->
<script 
id="MathJax-script"
async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js">
</script>
<!-- open raw text -->
<script charset="utf-8">
function graph(name){
	var file = "src/" + name;
	window.open(file);
}
</script>

<link rel="stylesheet" type="text/css" href="https://ahsjlin.github.io/html_head/css/a/blue.css">
<link rel="stylesheet" type="text/css" href="https://ahsjlin.github.io/html_head/css/table/block.css">
<link rel="stylesheet" type="text/css" href="https://ahsjlin.github.io/html_head/css/code/code_color.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<style>
table.tmp_table tr {
	text-align: center;
}
table.tmp_table tr td {
	width: 70px;
}
</style>




</head>
<body>
標準的C語言main寫法:<br>
<p style="width: 30%;border: 1px solid black;" >
<embed src="./code/standard_main_c_code.html" type="">
</p>
<ol>
	<li> 回傳類型不建議用void，而用int。</li>
	<li>不建議用main()，而用main(void) 或 main(int argc, char *argv[])。</li>
	<li>回傳類型寫int，然後不寫return 0;還是可以編譯過，只有main限定，但還是寫出來比較好。</li>
</ol>
雖然上述不建議的地方，C語言還是可以編譯過，但是要和其他人協作，是需要規範標準規格，所以嚴格遵守寫作規則是相當重要的。C語言規格書: <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf" target="_blank">C99</a> - <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2310.pdf" target="_blank">C18</a>
<hr>
在 C 語言的物件就指在執行時期，資料儲存的區域，可以明確表示數值的內容
<hr>
linux kernel有許多地方是由C語言撰寫而成，kernel的編譯器會影響OS的效能。所以C語言除了熟悉語法外，演算法和debug能力是極其重要的。<a href="https://www.sourceware.org/gdb/" target="_blank">Debug工具: GDB</a>
<hr>
<h2>數值和字串的轉換</h2>
<p style="border: 1px solid black; width: 600;">
數值轉字串:
<embed src="./code/val2str.html" type="text/html" width="600" height="400">
snprintf第一個參數是被寫入的地方， 第二個是限制寫多長，第三是數值類型， 第四是數值變數。<br />
code裏有兩個sample, int和float的， 注意float的小數點位數記得設定。
</p>	
<p style="border: 1px solid black; width: 600;">
字串轉數值:
<embed src="./code/str2val.html" type="text/html" width="600" height="400">
	sscanf第一個參數放字串變數， 第二個放要轉成的類型， 第三個放要放入<span style="color: red">變數的記憶體位址</span>。<br />
code裏有四個sample， 前兩個爲int和混合string的， 後兩個爲float和混合string。
</p>	
<hr>
<h3>String</h3>
package: <pre><code class="co1">#include &ltstring.h&gt</code></pre>
<br/>
string length:<br/>
<pre><code class="co1">size_t strlen ( const char * str );</code></pre>
<br/>
It will return how many characters in string.(without '\0')
<br/>
(It takes one byte to hold one character.)
<br/>
If a string contain "I am fine."
<pre><code class="co1">#include &ltstdio.h&gt
#include &ltstring.h&gt
#define STR "I am fine."

int main(void) {

// strlen()
printf("%zd", strlen(STR));
// output 10

// sizeof
printf("%zd", sizeof STR);
// output 11 (contain '\0' means null character.)
</code></pre>

<hr>
<pre><code class="co1">sizeof</code></pre>
is an operator.
<hr>
<h3>printf</h3>
The "printf" will return number of characters.<br></br>
If sentence is too long. You can type '\' to split sentence.
<pre> <code>// example
printf("split \
first line.");
//output
split first line.</code> </pre>
<hr>
<h3>strncpy</h3>
<table>
		<tr>
	<td>
<embed src="./code/strncpy_sample.html" type="text/html" width="600" height="400">
	</td>
		</tr>
</table>
<hr>
<h3>gcc參數</h3>
ref<br>
<a href=https://www.runoob.com/w3cnote/gcc-parameter-detail.html"" target="_blank">gcc參數參考資料</a>
<hr>
<h3>gcc link dll</h3>
dllName: this_dll_sample.dll
<pre><code class="co1">gcc sample.c -lthis_dll_sample </code></pre>
<hr>
<h3>Displaying Octal and Hexadecimal</h3>
Write pound sign in center of percent sign and number notation.
<pre><code class="co1">// print octal and hexadecimal
printf("%#o, %#x\n", octal, hexadecimal);</code></pre>
<hr>
<h3>Integer Type</h3>
<pre><code class="co1">// "short int" or short
short int a_1;
// or
short a_2;

// "long int" or "long"
long int b_1;
// or 
long b_2

// "long long int" or "long long", at least 64-bit cpu.
long long int c_1;
// or
long long c_2;</code></pre>
<hr>
<h3>integer type</h3>
The "int32_t" is equal to "int".
<br>
The "uintmax_t" is bigger than "long long int" and "unsigned long".
<hr>
<h2>Floating-Point numbers</h2>
float, double, long double.
<br>
<h4>floating-point</h4>
<pre><code class="co1">printf("%f\n", -1.32e-11); </code></pre>
<hr>
<h2>Boolean Type</h2>
<pre><code class="co1">// example
_Bool b_1;

// C99, stdbool.h
bool b_2;</code></pre>
<hr>
<h2>sizeof</h2>
sizeof 搭配 %zd
<hr>
<h2>macro</h2>
<pre><code class="co1">#define MAX(a,b) ((a) > (b) ? (a) : (b)) </code></pre>
<pre><code class="co1">#ifndef SOME_H
#define SOME_H

/* Declare some data types and public functions. */

#endif</code></pre>// 測測編譯環境
#if defined(_WIN32)
	#define PLATFORM "windows"
#elif defined(__linux__)
	#define PLATFORM "Linux"
#elif defined(__APPLE__)
	#define PLATFORM "mac"
#else
	#define PLATFORM "other os"
#endif
</code></pre>

<a href="https://opensourcedoc.com/c-programming/preprocessor/" target="_blank">更多巨集</a>
<hr>
<h2>assert</h2>
assert內容是True則不做任何事, Flase為顯示stderr，並停止。
<pre><code class="co1">#include <assert.h>

/* ...  */

int a;
scanf("%d", &a);
assert(a>10);
printf("a == %d", a);</code></pre>





<hr>
<footer>
<h2>Reference</h2>
<a href="https://hackmd.io/@sysprog/c-standards" target="_blank">你所不知道的 C 語言: 開發工具和規格標準</a><br>

</footer>

</body>
</html>
